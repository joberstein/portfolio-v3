#!/usr/bin/env zx

import { parse } from "path";

$.verbose = false;

const messagePath = process.argv[3];

const { name: hook } = parse(__filename);
console.log(`Running '${hook}' hook...`);

try {
    await $`npx commitlint --edit "${messagePath}"`;
} catch (e) {
    const errorMessage = e.stdout || e;
    console.log(errorMessage);
    process.exit(1);
}